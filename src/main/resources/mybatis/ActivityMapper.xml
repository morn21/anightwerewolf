<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="online.morn.anightwerewolf.mapper.ActivityMapper">
    <insert id="insert" parameterType="online.morn.anightwerewolf.DO.ActivityDO">
        insert into activity
        (id,createTime,updateTime,roomId)
        values
        (#{activityDO.id},now(),now(),#{activityDO.roomId})
    </insert>
    <select id="selectUnfinishedActivityByRoomId" resultType="online.morn.anightwerewolf.DO.ActivityDO">
        select * from activity
        where roomId=#{roomId} and winStatus is null
        order by createTime desc
    </select>
</mapper>